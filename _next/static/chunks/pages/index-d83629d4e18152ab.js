(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3613:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5766)}])},5766:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var l=n(1527);n(1853);var s=n(4256),a=n.n(s),r=n(7135),i=n(1962),c=n(4254),o=n(2699),d=function(){return(0,l.jsx)("div",{className:"spinner-container",children:(0,l.jsxs)("div",{className:"loader p-5 rounded-full flex space-x-3",children:[(0,l.jsx)("div",{className:"w-5 h-5 bg-black rounded-full animate-bounce"}),(0,l.jsx)("div",{className:"w-5 h-5 bg-black rounded-full animate-bounce"}),(0,l.jsx)("div",{className:"w-5 h-5 bg-black rounded-full animate-bounce"})]})})},x=n(9447),$=n(959),u=n(9071),h=n(4875),p=n.n(h),m=function(e){var t=e.row.index;return(0,l.jsxs)("div",{className:p()("py-2 h-[120px] xl:h-[80px] w-full grid grid-cols-2 place-items-center place-content-center",{"h-[140px] md:h-[160px] lg:h-[170px] xl:h-[180px] 2xl:h-[200px]":0===t}),children:[(0,l.jsx)("p",{className:p()("uppercase font-bold",{"text-3xl md:text-7xl lg:text-[116px] xl:text-[126px] 2xl:text-[136px]":0===t,"text-2xl md:text-6xl lg:text-[64px] xl:text-[74px] 2xl:text-[84px]":1===t||2===t,"text-lg md:text-[40px]":![0,1,2].includes(t)}),children:t+1}),(0,l.jsx)("div",{className:"w-6",children:(0,l.jsx)("svg",{width:"21",height:"18",viewBox:"0 0 21 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M10.5 0L20.4593 17.25H0.540708L10.5 0Z",fill:"#BDFF00"})})})]})},f=n(5643),g=n.n(f),w=function(e){var t=e.getValue;return(0,l.jsx)("div",{className:"py-2 px-4 h-full",children:(0,l.jsx)("span",{className:"inline-block font-bold text-sm md:text-base lg:text-xl",children:!(0,o.isEmpty)(t())&&g()(t()).tz("Asia/Bangkok").format("l")})})};function v(e){var t=(0,$.useState)(!1),n=t[0],l=t[1];return(0,$.useEffect)(function(){var t=window.matchMedia(e);l(t.matches);var n=function(e){return l(e.matches)};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}},[]),n}var _=function(e){var t,n=e.row,s=e.getValue,a=n.index,r=((t={isXs:v("(max-width: 640px)"),isSm:v("(min-width: 641px) and (max-width: 768px)"),isMd:v("(min-width: 769px) and (max-width: 1024px)"),isLg:v("(min-width: 1025px) and (max-width: 1279px)"),isXl:v("(min-width: 1280px) and (max-width: 1535px)"),is2Xl:v("(min-width: 1536px)"),active:"xs"}).isXs&&(t.active="xs"),t.isSm&&(t.active="sm"),t.isMd&&(t.active="md"),t.isLg&&(t.active="lg"),t.isXl&&(t.active="xl"),t.is2Xl&&(t.active="2xl"),t).isXl;return(0,l.jsx)("div",{className:"py-2 px-4 h-full",children:(0,l.jsxs)("div",{className:"h-full flex flex-col gap-4 xl:gap-8 xl:flex-row xl:items-center",children:[(0,l.jsx)("div",{className:p()({"w-[117px] h-[66px]":0!==a,"h-full md:w-[200px] lg:w-[300px] xl:w-[320px] 2xl:w-[325px]":0===a}),children:(0,l.jsx)("img",{src:0===a&&r?n.original.maxresImageUrl:n.original.mediumImageUrl,alt:"",className:"w-full"})}),(0,l.jsx)("span",{className:"break-word font-bold text-sm md:text-base lg:text-xl",children:"".concat(n.original.artist," - ").concat(s())})]})})},j=n(4588),b=n.n(j),N=function(e){var t=e.row;return(0,l.jsx)("div",{className:"py-2 px-4 h-full",children:(0,l.jsx)("div",{className:"flex justify-center text-center cursor-pointer",children:(0,l.jsx)(b(),{href:t.original.url,passHref:!0,children:(0,l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",children:(0,l.jsxs)("svg",{width:"36",height:"31",viewBox:"0 0 36 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("rect",{width:"35.65",height:"31",rx:"13",fill:"#FF0707"}),(0,l.jsx)("path",{d:"M25.575 15.8875L13.3688 22.9348L13.3688 8.84022L25.575 15.8875Z",fill:"white"})]})})})})})},k=function(e){var t,n=e.getValue;return(0,l.jsx)("div",{className:"py-2 px-4 h-full",children:(0,l.jsx)("span",{className:"inline-block font-bold text-sm md:text-base lg:text-xl",children:null===(t=n())||void 0===t?void 0:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})})},S=function(e){var t,n=e.getHeaderGroups,s=e.getRowModel;return(0,l.jsxs)("table",{className:"w-full table-auto",children:[(0,l.jsx)("thead",{className:"bg-white sticky top-0",children:n().map(function(e){return(0,l.jsx)("tr",{className:"border-b-2",children:e.headers.map(function(e){return(0,l.jsx)("th",{className:"text-[#7B7979] text-left uppercase font-bold text-sm md:text-base lg:text-xl py-3 px-4 whitespace-nowrap",colSpan:e.colSpan,children:e.isPlaceholder?null:(0,l.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),children:[(0,u.flexRender)(e.column.columnDef.header,e.getContext()),null!==(t=({asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"})[e.column.getIsSorted()])&&void 0!==t?t:null]})},e.id)})},e.id)})}),(0,l.jsx)("tbody",{children:s().rows.map(function(e,t){return(0,l.jsx)("tr",{className:"border-b-2 w-full h-full",children:e.getVisibleCells().map(function(e){return(0,l.jsx)("td",{children:(0,u.flexRender)(e.column.columnDef.cell,e.getContext())},e.id)})},e.id)})})]})},y=function(e){var t=e.tableData,n=(0,u.createColumnHelper)(),s=(0,$.useMemo)(function(){return[n.display({header:"Rank",id:"index",cell:m}),n.accessor("song",{header:"Song",id:"song",cell:_}),n.accessor("views",{header:"Views",id:"views",cell:k}),n.accessor("publishedAt",{header:"Release",id:"release",cell:w}),n.display({header:"Video",id:"index",cell:N}),]},[]);(0,$.useMemo)(function(){return[{id:"views",desc:!0},]},[]);var a=(0,u.useReactTable)({data:t,columns:s,initialState:{sorting:[{id:"views",desc:!0}]},getCoreRowModel:(0,u.getCoreRowModel)(),getSortedRowModel:(0,u.getSortedRowModel)(),debugTable:!0});return(0,l.jsx)(S,(0,x.Z)({},a))},T=n(365),E=n.n(T),C=n(5107),P=function(){var e,t=(e=(0,r.Z)(function(){var e,t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return t={},[4,E().get("".concat("https://tpop-server.herokuapp.com","/videos"),(t.headers={"X-API-Key":"7992d6fa-a7db-4981-b1d2-f97dc45e0311"},t))];case 1:return e=n.sent().data,[2,(0,o.orderBy)(e,"views","desc")]}})}),function(){return e.apply(this,arguments)}),n=(0,C.useQuery)("fetchVideosInfos",t),s=n.isLoading,a=n.isError,x=n.data,$=n.error;return s||(0,o.isEmpty)(x)?(0,l.jsx)(d,{}):a&&(0,i.Z)($,Error)?(0,l.jsxs)("span",{children:["Error: ",null==$?void 0:$.message," "]}):(0,l.jsx)(y,{tableData:x})},R=function(){var e=g()().startOf("isoWeek").tz("Asia/Bangkok").format("l"),t=g()().endOf("isoWeek").tz("Asia/Bangkok").format("l");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a(),{children:[(0,l.jsx)("title",{children:"1TPOP"}),(0,l.jsx)("meta",{property:"og:type",content:"website"}),(0,l.jsx)("meta",{name:"description",content:"1TPOP - เช็คอันดับเพลงฮิต 2022 อัพเดทประจำทุกสัปดาห์ได้ก่อนใคร เพลงฮิตติดชาร์ต การันตี รวม Top Chart Songs เพลงใหม่ล่าสุด"}),(0,l.jsx)("meta",{property:"og:title",content:"1TPOP - THE WEEK'S MOST POPULAR CURRENT SONGS ACROSS ALL GENRES"}),(0,l.jsx)("meta",{property:"og:description",content:"1TPOP - เช็คอันดับเพลงฮิต 2022 อัพเดทประจำทุกสัปดาห์ได้ก่อนใคร เพลงฮิตติดชาร์ต การันตี รวม Top Chart Songs เพลงใหม่ล่าสุด"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsxs)("main",{className:"px-8 w-full",children:[(0,l.jsxs)("h1",{className:"text-base lg:text-3xl uppercase font-bold",children:["YouTube’s T-POP Top Songs Chart This Week!"," ",(0,l.jsx)("span",{className:"hidden md:inline-block text-sm md:text-base lg:text-xl xl:text-2xl",children:"(".concat(e," - ").concat(t,")")}),(0,l.jsx)("p",{className:"block md:hidden",children:"(".concat(e," - ").concat(t,")")})]}),(0,l.jsx)("div",{className:"mt-4 h-2.5 bg-gradient-to-r from-[#FF2727] to-[#0047FF] w-full",children:"\xa0"}),(0,l.jsx)(P,{})]})]})}}},function(e){e.O(0,[933,964,201,213,774,888,179],function(){return e(e.s=3613)}),_N_E=e.O()}]);